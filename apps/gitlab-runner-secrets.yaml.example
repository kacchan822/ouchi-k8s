# これはGitLab Runnerのシークレットを作成するためのサンプルファイルです。
# このテンプレートを元に、実際のシークレットファイル（例: `gitlab-runner-secrets.yaml`）を作成し、
# `kubectl apply -f gitlab-runner-secrets.yaml` コマンドでクラスターに適用してください。
# このファイル自体はリポジトリにコミットしないでください。

# 'runner-token' の取得手順:
# 1. GitLabのプロジェクトまたはグループに移動します。
# 2. 「設定」 > 「CI/CD」 に進み、「Runner」セクションを展開します。
# 3. 「新しいプロジェクトRunner」または「新しいグループRunner」をクリックします。
# 4. 画面の指示に従ってRunnerを作成します。Runner認証トークンが提供されます。
# 5. トークンは "glrt-" から始まります。
# 6. このトークンを取得し、Base64でエンコードして、以下の `runner-token` の値として貼り付けます。
#
# 以下のコマンドでトークンをエンコードできます:
# echo -n "glrt-xxxxxxxxxxxxxxxxxxxx" | base64

apiVersion: v1
kind: Secret
metadata:
  name: gitlab-runner-secrets
  # namespaceは `gitlab-runner.yaml` アプリケーションマニフェストで指定されたものと一致させる必要があります。
  namespace: gitlab-runner
type: Opaque
data:
  # このトークンは、RunnerがGitLabと認証するために使用されます。
  # これは新しい認証トークン（プレフィックス `glrt-`）です。
  # レガシーな `runner-registration-token` は非推奨です。
  runner-token: "ここにBase64エンコードされたGitLab Runner認証トークンを入力"